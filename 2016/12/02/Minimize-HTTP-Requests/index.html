<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <!-- For SEO -->
  <meta name="baidu-site-verification" content="UFDznXUqi2" />
  <meta name="google-site-verification" content="6OTH-Srp0OtcTNkRErkCMoIbSMy8aoG0RiRBifvwKuU" />

  <!-- For open search -->
  <link rel="search" type="application/opensearchdescription+xml" href="http://maxpeng.vipcloud.me/opensearch.xml" title="Blog Search" />

  
  <title>前端性能调优(1) ┃ 尽可能减少 HTTP 请求 | 谋事在人，成事在天</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="原文链接：https://developer.yahoo.com/performance/rules.html#num_http

80％的终端用户响应时间花费在前端。大部分时间是在下载页面中所有的绑定的组件：图片（images），样式表（stylesheets)，脚本（scripts)，Flash等。减少组件数量从而会减少呈现页面所需的HTTP请求数量。这是加快页面加载的关键。">
<meta property="og:type" content="article">
<meta property="og:title" content="前端性能调优(1) ┃ 尽可能减少 HTTP 请求">
<meta property="og:url" content="http://maxpeng.vipcloud.me/2016/12/02/Minimize-HTTP-Requests/index.html">
<meta property="og:site_name" content="谋事在人，成事在天">
<meta property="og:description" content="原文链接：https://developer.yahoo.com/performance/rules.html#num_http

80％的终端用户响应时间花费在前端。大部分时间是在下载页面中所有的绑定的组件：图片（images），样式表（stylesheets)，脚本（scripts)，Flash等。减少组件数量从而会减少呈现页面所需的HTTP请求数量。这是加快页面加载的关键。">
<meta property="og:image" content="http://maxpeng.vipcloud.me/imgs/http-request.png">
<meta property="og:updated_time" content="2016-12-02T08:42:20.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="前端性能调优(1) ┃ 尽可能减少 HTTP 请求">
<meta name="twitter:description" content="原文链接：https://developer.yahoo.com/performance/rules.html#num_http

80％的终端用户响应时间花费在前端。大部分时间是在下载页面中所有的绑定的组件：图片（images），样式表（stylesheets)，脚本（scripts)，Flash等。减少组件数量从而会减少呈现页面所需的HTTP请求数量。这是加快页面加载的关键。">
<meta name="twitter:image" content="http://maxpeng.vipcloud.me/imgs/http-request.png">
<meta name="twitter:creator" content="@pengisgood">
<link rel="publisher" href="pengisgood">
  
    <link rel="alternate" href="/atom.xml" title="谋事在人，成事在天" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">谋事在人，成事在天</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://maxpeng.vipcloud.me"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article data-post-id="ciy8al9fv00016c1kic0a7qdv" id="post-Minimize-HTTP-Requests" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/02/Minimize-HTTP-Requests/" class="article-date">
  <time datetime="2016-12-02T05:06:34.000Z" itemprop="datePublished">Dec 2 2016</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Web/">Web</a>►<a class="article-category-link" href="/categories/Web/Performance/">Performance</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      前端性能调优(1) ┃ 尽可能减少 HTTP 请求
    </h1>
  

        <div class="views">0</div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="/imgs/http-request.png" width="100%"></p>
<blockquote>
<p><em>原文链接：<a href="https://developer.yahoo.com/performance/rules.html#num_http" target="_blank" rel="external">https://developer.yahoo.com/performance/rules.html#num_http</a></em></p>
</blockquote>
<p>80％的终端用户响应时间花费在前端。大部分时间是在下载页面中所有的绑定的组件：图片（images），样式表（stylesheets)，脚本（scripts)，Flash等。减少组件数量从而会减少呈现页面所需的HTTP请求数量。这是加快页面加载的关键。</p>
<a id="more"></a>
<p>简化页面的设计是一种减少页面中组件数量的途径。但是是否有一种方法来构建具有更丰富内容的页面，同时还能让响应时间非常短呢？下面是一些减少HTTP请求数量的技术，同时仍然支持富页面设计。</p>
<p><strong>合并文件</strong> 是一种通过将所有脚本合并到单个脚本来减少HTTP请求数量的方法，并且类似地将所有CSS合并到单个样式表中。当脚本和样式表在页面之间有所不同时，合并文件具有一定的挑战性，但是使这成为发布流程的一部分会缩短响应时间。</p>
<p><a href="http://alistapart.com/article/sprites" target="_blank" rel="external"><strong>CSS Sprites</strong></a>是减少图片请求数量的首选方法。将你的背景图片合并为单个图片，然后使用CSS背景图片和背景位置属性来显示所需的图片部分。</p>
<p><a href="https://www.w3.org/TR/html401/struct/objects.html#h-13.6" target="_blank" rel="external"><strong>Image maps</strong></a>将多个图片合并成单个图片。整体大小大致相同，但减少了HTTP请求的数量从而加快了页面加载。只有当图像在页面中是连续的（例如导航栏）时，Image maps才起作用。定义Image maps的坐标比较乏味并且容易出错。使用Image maps进行导航也不可访问，因此 <strong>不建议使用</strong>。</p>
<p><strong>Inline images</strong> 使用<a href="https://tools.ietf.org/html/rfc2397" target="_blank" rel="external"><code>data：URL scheme</code></a>将图片数据嵌入实际页面里。这会增加HTML文档的大小。将Inline images合并到（缓存的）样式表中是一种减少HTTP请求数量并避免增加网页大小的方法。不是所有主流浏览器都支持Inline images（译者注：现在几乎所有主流浏览器的最新版都已支持 <a href="http://caniuse.com/#feat=datauri" target="_blank" rel="external">http://caniuse.com/#feat=datauri</a>）。</p>
<p>减少网页中的HTTP请求数量是开始的第一步。这是提高首次访问性能的最重要的指南。如 Tenni Theurer 的博客 <a href="http://yuiblog.com/blog/2007/01/04/performance-research-part-2/" target="_blank" rel="external">Browser Cache Usage - Exposed！</a>中所述，你网站的每日访问者的40-60％都没有缓存。让你的网页能为这些首次访客快速响应是更好的用户体验的关键。</p>
<h2 id="原文"><a href="#原文" class="headerlink" title="原文"></a>原文</h2><blockquote>
<h3 id="Minimize-HTTP-Requests"><a href="#Minimize-HTTP-Requests" class="headerlink" title="Minimize HTTP Requests"></a>Minimize HTTP Requests</h3><p>tag: content</p>
<p>80% of the end-user response time is spent on the front-end. Most of this time is tied up in downloading all the components in the page: images, stylesheets, scripts, Flash, etc. Reducing the number of components in turn reduces the number of HTTP requests required to render the page. This is the key to faster pages.</p>
<p>One way to reduce the number of components in the page is to simplify the page’s design. But is there a way to build pages with richer content while also achieving fast response times? Here are some techniques for reducing the number of HTTP requests, while still supporting rich page designs.</p>
<p>Combined files are a way to reduce the number of HTTP requests by combining all scripts into a single script, and similarly combining all CSS into a single stylesheet. Combining files is more challenging when the scripts and stylesheets vary from page to page, but making this part of your release process improves response times.</p>
<p><a href="http://alistapart.com/article/sprites" target="_blank" rel="external"><strong>CSS Sprites</strong></a> are the preferred method for reducing the number of image requests. Combine your background images into a single image and use the CSS <code>background-image</code> and <code>background-position</code> properties to display the desired image segment.</p>
<p><a href="https://www.w3.org/TR/html401/struct/objects.html#h-13.6" target="_blank" rel="external"><strong>Image maps</strong></a> combine multiple images into a single image. The overall size is about the same, but reducing the number of HTTP requests speeds up the page. Image maps only work if the images are contiguous in the page, such as a navigation bar. Defining the coordinates of image maps can be tedious and error prone. Using image maps for navigation is not accessible too, so it’s not recommended.</p>
<p><strong>Inline images</strong> use the <a href="http://tools.ietf.org/html/rfc2397" target="_blank" rel="external"><code>data: URL scheme</code></a> to embed the image data in the actual page. This can increase the size of your HTML document. Combining inline images into your (cached) stylesheets is a way to reduce HTTP requests and avoid increasing the size of your pages. Inline images are not yet supported across all major browsers.</p>
<p>Reducing the number of HTTP requests in your page is the place to start. This is the most important guideline for improving performance for first time visitors. As described in Tenni Theurer’s blog post <a href="http://yuiblog.com/blog/2007/01/04/performance-research-part-2/" target="_blank" rel="external">Browser Cache Usage - Exposed!</a>, 40-60% of daily visitors to your site come in with an empty cache. Making your page fast for these first time visitors is key to a better user experience.</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://maxpeng.vipcloud.me/2016/12/02/Minimize-HTTP-Requests/" data-id="ciy8al9fv00016c1kic0a7qdv" class="article-share-link">分享</a>

      
        <a class="article-tip-link">打赏</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Best-Practice/">Best Practice</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/翻译/">翻译</a></li></ul>


      <div class="tip-container">
        <div id="ciy8al9fv00016c1kic0a7qdv" class="article-tip-box">
          <div class="payment-method">
            <label for="tip-alipay" class="article-tip-select" data-method="alipay">
              <input id="tip-alipay" name="tip" type="radio" checked/>
              支付宝
            </label>
            <label for="tip-wechat" class="article-tip-select" data-method="wechat">
              <input id="tip-wechat" name="tip" type="radio"/>
              微信
            </label>
          </div>
          <img id="alipay" src="/imgs/alipay.png">
          <img id="wechat" class="hidden" src="/imgs/wechat.png">
        </div>
      </div>
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/12/02/Use-a-Content-Delivery-Network/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          前端性能调优(2) ┃ 使用 CDN
        
      </div>
    </a>
  
  
    <a href="/2016/09/01/skype-tricks-tips/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Skype 使用小技巧</div>
    </a>
  
</nav>

  
</article>


  <ul class="ds-recent-visitors"></ul>

  
    <section id="comments">
      <div class="ds-thread" data-thread-key="post-Minimize-HTTP-Requests" data-title="前端性能调优(1) ┃ 尽可能减少 HTTP 请求" data-url="http://maxpeng.vipcloud.me/2016/12/02/Minimize-HTTP-Requests/"></div>
    </section>
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:'pengisgood'};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
       || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title">About me</h3>
  <div class="widget">
    <p><strong>彭洪伟</strong></p>
    <p><a href="mailto:pengisgood@gmail.com">PengIsGood[@]gmail.com</a></p>
    <p><a href="https://www.thoughtworks.com/" style="color: black;"><strong>Thought</strong>Works</a> 一线码农。</p>
    <p>
      Angular早期使用者，<a href="http://ngnice.com/">ngnice</a>的早期贡献者之一。除了前端技术，对Java、Scala、Ruby等也均有涉猎，并且翻译了构建工具<a href="http://www.scala-sbt.org/0.13/docs/zh-cn/index.html">SBT</a>的文档。
    </p>
    <p><a href="https://item.jd.com/11845736.html"><img src="/imgs/angular-best-practice.png" alt="" style="width:100%"/></a></p>
  </div>
</div>

  
    <div align="center">
  <a href="http://www.amazingcounters.com">
    <img border="0" src="http://cc.amazingcounters.com/counter.php?i=3199418&c=9598567" alt="AmazingCounters.com">
  </a>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/12/15/gzip-components/">前端性能调优(4) ┃ Gzip 压缩</a>
          </li>
        
          <li>
            <a href="/2016/12/13/add-an-expires-or-a-cache-control-header/">前端性能调优(3) ┃ 添加 Expires 或者 Cache-Control 头</a>
          </li>
        
          <li>
            <a href="/2016/12/02/Use-a-Content-Delivery-Network/">前端性能调优(2) ┃ 使用 CDN</a>
          </li>
        
          <li>
            <a href="/2016/12/02/Minimize-HTTP-Requests/">前端性能调优(1) ┃ 尽可能减少 HTTP 请求</a>
          </li>
        
          <li>
            <a href="/2016/09/01/skype-tricks-tips/">Skype 使用小技巧</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/">DevOps</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tools/">Tools</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web/">Web</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Web/Performance/">Performance</a><span class="category-list-count">4</span></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AngularJS/">AngularJS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ansible/">Ansible</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Best-Practice/">Best Practice</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6/">ES6</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SCSS/">SCSS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sass/">Sass</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Skype/">Skype</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vagrant/">Vagrant</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/翻译/">翻译</a><span class="tag-list-count">6</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>


  
</aside>

        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 <a href="http://stackoverflow.com/story/maxpeng" target="_blank">彭洪伟（Max Peng）</a><br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    <script src="//code.jquery.com/jquery-2.0.3.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

<div id="totop" style="position:fixed;bottom:150px;right:50px;cursor:pointer;z-index:1;">
  <a title="返回顶部"><img src="/imgs/back-to-top.png" style="width:32px;height:32px;"/></a>
</div>

<script src="/js/backToTop.js"></script>

<!--Lean Cloud-->
<!-- lean cloud js -->
<!--refer to: https://leancloud.cn/docs/leanstorage_guide-js.html#更新计数器 -->
<script src="https://cdn1.lncld.net/static/js/av-min-1.2.1.js"></script>
<script>
  $(document).ready(function () {
    // 应用 ID，用来识别应用
    var APP_ID = 'P73z6DPIAfc1Jrptt0PnMore-gzGzoHsz';

    // 应用 Key，用来校验权限（Web 端可以配置安全域名来保护数据安全）
    var APP_KEY = '4n4rEhNfzn6RYUbRcpgCus7h';

    // 初始化
    AV.init({appId: APP_ID, appKey: APP_KEY});

    
    var query = new AV.Query('PageView');
    var postId = $('article').data('postId');
    var postSlug = $('article').attr('id');

    query.equalTo('postSlug', postSlug);
    query.first().then(function (pageView) {
      if (pageView) {
        increasePageView(pageView);
      } else {
        var PageView = AV.Object.extend('PageView');
        var pageView = new PageView();
        pageView.save({
          postId: postId,
          postSlug: postSlug,
          views: 0
        }).then(function (pageView) {
          increasePageView(pageView);
        })
      }
    }, function (error) {
    });

    function increasePageView(pageView) {
      pageView.increment('views', 1);
      pageView.fetchWhenSave(true);
      pageView.save().then(function (pageView) {
        updatePageView(pageView)
      });
    }
    

    function updatePageView(pageView) {
      var id = pageView.get('postSlug');
      $('#' + id + ' .views').html(pageView.get('views'));
    }
  })
</script>


  </div>
  
<!--CNZZ-->
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
  document.write(unescape("%3Cspan id='cnzz_stat_icon_1257186032'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1257186032' type='text/javascript'%3E%3C/script%3E"));</script>


</body>
</html>
